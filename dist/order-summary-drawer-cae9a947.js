"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[720],{4822:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var a=n(31635),r=n(3375),c=n.n(r),o=n(70355),l=n(49655),i=n(16919),s=n(45050),m=n(91589),u=n(73545);function d(e){var t=e.physicalItems,n=e.digitalItems,a=e.giftCertificates,r=e.customItems;return t.length+n.length+a.length+(r||[]).length}var h=n(72769),p=n(63163);const C=(0,n(2156).A)((function(){return o.createElement("svg",{fill:"none",height:"37",viewBox:"0 0 38 37",width:"38",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M38 18.5C38 28.7173 29.7173 37 19.5 37C9.28273 37 1 28.7173 1 18.5C1 8.28273 9.28273 0 19.5 0C29.7173 0 38 8.28273 38 18.5Z",fill:"#F3F3F3"}),o.createElement("path",{clipRule:"evenodd",d:"M24.6671 24.6674L12.9998 13.0002L14.4141 11.5859L26.0813 23.2532L24.6671 24.6674Z",fill:"black",fillRule:"evenodd"}),o.createElement("path",{clipRule:"evenodd",d:"M25.6674 13.0004L14.0002 24.6676L12.5859 23.2534L24.2532 11.5862L25.6674 13.0004Z",fill:"black",fillRule:"evenodd"}))}));var f=n(92909),E=n(58330),A=n(59908);const g=(0,o.memo)((function(e){var t=e.items,n=e.shopperCurrencyCode,a=e.storeCurrencyCode,r=e.amountWithCurrency,c=(0,u.A)(t),i=n!==a,s=1===c?"cart.item":"cart.items";return o.createElement(o.Fragment,null,c," ",o.createElement(l.A,{id:s})," | ",r," ",i&&o.createElement("span",null,"(",n,")"))}));var y=n(1346),v=n(66317),k=n(62755),x=n(60164),I=n(20328),L=function(e){var t,n=e.onRequestClose,a=e.headerLink,r=e.subHeaderText;return(0,o.isValidElement)(a)&&(t=(0,o.cloneElement)(a,{className:"modal-header-link cart-modal-link test"})),o.createElement(o.Fragment,null,null!=t?t:a,o.createElement(E.A,{additionalClassName:"cart-modal-title"},o.createElement("div",null,o.createElement(l.A,{id:"cart.cart_heading"}),o.createElement("div",{className:"cart-heading-subheader"},r))),o.createElement("a",{className:"cart-modal-close",href:"#",onClick:(0,h.A)(n)},o.createElement("span",{className:"is-srOnly"},o.createElement(l.A,{id:"common.close_action"})),o.createElement(C,null)))};const b=function(e){var t=e.additionalLineItems,n=(e.children,e.isTaxIncluded),r=e.taxes,c=e.onRequestClose,s=e.onAfterOpen,m=e.storeCurrency,u=e.shopperCurrency,d=e.isOpen,C=e.headerLink,E=e.items,b=e.total,w=(0,a.__rest)(e,["additionalLineItems","children","isTaxIncluded","taxes","onRequestClose","onAfterOpen","storeCurrency","shopperCurrency","isOpen","headerLink","items","total"]),N=n&&r&&r.length>0,R=o.createElement(g,{amountWithCurrency:o.createElement(i.A,{amount:b}),items:E,shopperCurrencyCode:u.code,storeCurrencyCode:m.code}),_=(0,A.A)()&&o.createElement(p.Ay,{className:"cart-modal-continue","data-test":"manage-instrument-cancel-button",onClick:(0,h.A)(c)},o.createElement(l.A,{id:"cart.return_to_checkout"}));return o.createElement(f.A,{additionalBodyClassName:"cart-modal-body optimizedCheckout-orderSummary",additionalHeaderClassName:"cart-modal-header optimizedCheckout-orderSummary with-continue-button",additionalModalClassName:"optimizedCheckout-cart-modal",footer:_,header:L({headerLink:C,subHeaderText:R,onRequestClose:c}),isOpen:d,onAfterOpen:s,onRequestClose:c},o.createElement(k.A,null,o.createElement(y.A,{displayLineItemsCount:!1,items:E})),o.createElement(k.A,null,o.createElement(x.A,(0,a.__assign)({isTaxIncluded:n,taxes:r},w)),t),o.createElement(k.A,null,o.createElement(I.A,{orderAmount:b,shopperCurrencyCode:u.code,storeCurrencyCode:m.code})),N&&o.createElement(k.A,null,o.createElement("h5",{className:"cart-taxItem cart-taxItem--subtotal optimizedCheckout-contentPrimary","data-test":"tax-text"},o.createElement(l.A,{id:"tax.inclusive_label"})),(r||[]).map((function(e,t){return o.createElement(v.A,{amount:e.amount,key:t,label:e.name,testId:"cart-taxes"})}))))};var w=n(9660);const N=(0,o.memo)((function(e){var t=e.additionalLineItems,n=e.coupons,r=e.discountAmount,h=e.giftCertificates,p=e.handlingAmount,C=e.headerLink,f=e.isTaxIncluded,E=e.lineItems,A=e.onRemovedCoupon,g=e.onRemovedGiftCertificate,y=e.shippingAmount,v=e.shippingAmountBeforeDiscount,k=e.shopperCurrency,x=e.storeCreditAmount,I=e.giftWrappingAmount,L=e.storeCurrency,N=e.subtotalAmount,R=e.taxes,_=e.total,D=e.fees,O=(0,o.useMemo)((function(){return(0,w.A)(E)}),[E]),z=(0,o.useCallback)((function(e){return o.createElement(b,(0,a.__assign)({},e,{additionalLineItems:t,coupons:n,discountAmount:r,fees:D,giftCertificates:h,giftWrappingAmount:I,handlingAmount:p,headerLink:C,isTaxIncluded:f,items:O,onRemovedCoupon:A,onRemovedGiftCertificate:g,shippingAmount:y,shippingAmountBeforeDiscount:v,shopperCurrency:k,storeCreditAmount:x,storeCurrency:L,subtotalAmount:N,taxes:R,total:_}))}),[t,n,r,h,p,C,f,O,A,g,I,y,v,k,x,L,N,R,_,D]);return o.createElement(m.A,{modal:z},(function(e){var t=e.onClick,n=e.onKeyPress;return o.createElement("div",{className:"cartDrawer optimizedCheckout-orderSummary",onClick:t,onKeyPress:n,tabIndex:0},o.createElement("figure",{className:c()("cartDrawer-figure",{"cartDrawer-figure--stack":d(O)>1})},o.createElement("div",{className:"cartDrawer-imageWrapper"},function(e){var t=e.physicalItems[0]||e.digitalItems[0];if(t&&t.imageUrl)return o.createElement("img",{alt:t.name,"data-test":"cart-item-image",src:t.imageUrl});if(e.giftCertificates.length)return o.createElement(s.A,null)}(O))),o.createElement("div",{className:"cartDrawer-body"},o.createElement("h3",{className:"cartDrawer-items optimizedCheckout-headingPrimary"},o.createElement(l.A,{data:{count:(0,u.A)(O)},id:"cart.item_count_text"})),o.createElement("a",null,o.createElement(l.A,{id:"cart.show_details_action"}))),o.createElement("div",{className:"cartDrawer-actions"},o.createElement("h3",{className:"cartDrawer-total optimizedCheckout-headingPrimary"},o.createElement(i.A,{amount:_}))))}))}))},91589:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(70355);const r=function(e){var t=e.children,n=e.modal,r=(0,a.useState)(!1),c=r[0],o=r[1],l=(0,a.useRef)(!1);(0,a.useEffect)((function(){return l.current=!0,function(){l.current=!1}}),[]);var i=function(){l.current&&o(!0)};return a.createElement(a.Fragment,null,t({onClick:i,onKeyPress:function(e){"Enter"===e.key&&i()}}),n({isOpen:c,onRequestClose:function(){l.current&&o(!1)}}))}}}]);
//# sourceMappingURL=order-summary-drawer-cae9a947.js.map