"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[5555,9154],{10945:(e,t,a)=>{a.r(t),a.d(t,{CheckoutcomCustomPaymentMethod:()=>S,getCheckoutcomValidationSchemas:()=>w});var c=a(31635),n=a(70355),o=a(14527),m=a(19285),l=a(49655),r=a(66960),i=a(22292),s=a(47237),u=a(30680),d=a(10156),p=a(24750);const _=e=>{const{additionalClassName:t,autoComplete:a,labelId:c,name:o}=e,m=(0,n.useCallback)((({field:e})=>n.createElement(d.A,Object.assign({},e,{autoComplete:a,id:e.name}))),[a]),r=(0,n.useMemo)((()=>n.createElement(l.A,{id:c})),[c]);return n.createElement(u.A,{additionalClassName:t,input:m,labelContent:r,name:o})},h=(0,n.memo)((({additionalClassName:e,autoComplete:t,labelId:a,name:c})=>n.createElement(p.A,null,n.createElement("div",{className:"form-ccFields"},n.createElement(_,{additionalClassName:e,autoComplete:t,labelId:a,name:c}))))),b=e=>{var t=e.field,{value:a}=t,o=(0,c.__rest)(t,["value"]),{form:m,selectedIssuer:l}=e;const r=(0,n.useCallback)((()=>n.createElement("input",Object.assign({},o,{type:"hidden"}))),[o]);return(0,n.useEffect)((()=>{a!==l&&m.setFieldValue(o.name,l)}),[a,m,l,o.name]),n.createElement(r,null)},y=e=>{var{issuer:t}=e,a=(0,c.__rest)(e,["issuer"]);const{bic:o,name:m}=t;return n.createElement("button",Object.assign({"data-bic":o,type:"button"},a),n.createElement("div",{className:"instrumentSelect-details"},`${o} / ${m}`))},k=({selectedIssuer:e})=>e?n.createElement(y,{className:"instrumentSelect-button optimizedCheckout-form-select dropdown-button form-input",issuer:e}):n.createElement("button",{className:"instrumentSelect-button optimizedCheckout-form-select dropdown-button form-input",type:"button"},n.createElement("div",{className:"instrumentSelect-details instrumentSelect-details--addNew"},n.createElement("div",{className:"instrumentSelect-card"},"Your bank"))),E=({method:e})=>n.createElement(h,{additionalClassName:"form-field--ccDocument",autoComplete:"cc-document",labelId:`payment.checkoutcom_document_label_${e.id}`,name:"ccDocument"}),C={fawry:()=>n.createElement(n.Fragment,null,n.createElement(h,{additionalClassName:"form-field--customerMobile",autoComplete:"tel",labelId:"payment.checkoutcom_fawry_customer_mobile_label",name:"customerMobile"}),n.createElement(h,{additionalClassName:"form-field--customerEmail",autoComplete:"email",labelId:"payment.checkoutcom_fawry_customer_email_label",name:"customerEmail"})),sepa:({method:e,debtor:t})=>{const a=(0,n.useContext)(r.i),c=e.initializationData.sepaCreditor;return(0,n.useEffect)((()=>(null==a||a.paymentForm.disableSubmit(e,!0),()=>null==a?void 0:a.paymentForm.disableSubmit(e,!1))),[a,e]),n.createElement(n.Fragment,null,n.createElement("div",{className:"checkoutcom-sepa-column-container"},n.createElement("div",{className:"checkoutcom-sepa-column-content"},n.createElement("h4",{className:"checkoutcom-sepa-title"},n.createElement(l.A,{id:"payment.checkoutcom_sepa_creditor_title"})),n.createElement("h5",{className:"checkoutcom-sepa-title"},c.sepaCreditorCompanyName),n.createElement("p",{className:"checkoutcom-sepa-line"},c.sepaCreditorAddress),n.createElement("p",{className:"checkoutcom-sepa-line"},`${c.sepaCreditorPostalCode} ${c.sepaCreditorCity}`),n.createElement("p",{className:"checkoutcom-sepa-line"},c.sepaCreditorCountry),n.createElement("br",null),n.createElement("p",{className:"checkoutcom-sepa-line"},n.createElement(l.A,{data:{creditorId:c.sepaCreditorIdentifier},id:"payment.checkoutcom_sepa_creditor_id"}))),n.createElement("div",{className:"checkoutcom-sepa-column-content"},n.createElement("h4",{className:"checkoutcom-sepa-title"},n.createElement(l.A,{id:"payment.checkoutcom_sepa_debtor_title"})),n.createElement("h5",{className:"checkoutcom-sepa-title"},`${t.firstName} ${t.lastName}`),n.createElement("p",{className:"checkoutcom-sepa-line"},t.address1),n.createElement("p",{className:"checkoutcom-sepa-line"},`${t.postalCode} ${t.city}, ${t.stateOrProvinceCode}`),n.createElement("p",{className:"checkoutcom-sepa-line"},t.countryCode))),n.createElement("p",{className:"checkoutcom-sepa-line"},n.createElement(l.A,{id:"payment.checkoutcom_sepa_payment_type"})),n.createElement("br",null),n.createElement(h,{additionalClassName:"form-field--iban",autoComplete:"iban",labelId:"payment.sepa_account_number",name:"iban"}),n.createElement(i.A,{labelContent:n.createElement(l.A,{data:{creditorName:c.sepaCreditorCompanyName},id:"payment.checkoutcom_sepa_mandate_disclaimer"}),name:"sepaMandate",onChange:function(t){null==a||a.paymentForm.disableSubmit(e,!t)}}))},ideal:({method:e})=>{const[t,a]=(0,n.useState)(),[c,o]=(0,n.useState)(""),m=(0,n.useCallback)((e=>n.createElement(b,Object.assign({},e,{selectedIssuer:c}))),[c]),l=e.initializationData.idealIssuers,r=({currentTarget:e})=>{const t=l.find((({bic:t})=>t===e.dataset.bic));t&&(a(t),o(t.bic))},i=n.createElement("ul",{className:"instrumentSelect-dropdownMenu instrumentSelect-dropdownMenuNext dropdown-menu"},l.map((e=>n.createElement("li",{className:"instrumentSelect-option dropdown-menu-item",key:e.bic},n.createElement(y,{issuer:e,onClick:r})))));return n.createElement(n.Fragment,null,n.createElement(s.A,{dropdown:i},n.createElement(k,{selectedIssuer:t})),n.createElement(u.A,{input:m,name:"bic"}))}};var f=a(44218),N=a(94202);const g=["fawry","sepa","oxxo","qpay","boleto","ideal"],v={oxxo:e=>({ccDocument:(0,N.Yj)().required(e.translate("payment.checkoutcom_document_invalid_error_oxxo")).length(18,e.translate("payment.checkoutcom_document_invalid_error_oxxo"))}),qpay:e=>({ccDocument:(0,N.Yj)().notRequired().max(32,e.translate("payment.checkoutcom_document_invalid_error_qpay"))}),boleto:e=>({ccDocument:(0,N.Yj)().required(e.translate("payment.checkoutcom_document_invalid_error_boleto")).min(11,e.translate("payment.checkoutcom_document_invalid_error_boleto")).max(14,e.translate("payment.checkoutcom_document_invalid_error_boleto"))}),sepa:e=>({iban:(0,N.Yj)().required(e.translate("payment.sepa_account_number_required")),sepaMandate:(0,N.zM)().required(e.translate("payment.sepa_mandate_required"))}),ideal:e=>({bic:(0,N.Yj)().required(e.translate("payment.ideal_bic_required"))}),fawry:e=>({customerMobile:(0,N.Yj)().required(e.translate("payment.checkoutcom_fawry_customer_mobile_invalid_error")).matches(new RegExp("^\\d{11}$"),e.translate("payment.checkoutcom_fawry_customer_mobile_invalid_error")),customerEmail:(0,N.Yj)().required(e.translate("payment.checkoutcom_fawry_customer_email_invalid_error")).email(e.translate("payment.checkoutcom_fawry_customer_email_invalid_error"))})},w=(0,f.memoize)((function({paymentMethod:e,language:t}){return(0,N.Ik)(v[e](t))})),S=(0,m.A)((e=>{var t,{language:a,method:m,checkoutService:l,checkoutState:r}=e,i=(0,c.__rest)(e,["language","method","checkoutService","checkoutState"]);const{getConfig:s}=r.data,u=null===(t=s())||void 0===t?void 0:t.checkoutSettings.features["PI-2979.checkoutcom_enable_ideal_hosted_page"],d=m.id,p=d in C?C[d]:E,_=r.data.getBillingAddress();return h=d,!Object.values(g).includes(h)||"ideal"===d&&u?null:n.createElement(o.A,Object.assign({checkoutService:l,checkoutState:r,deinitializePayment:l.deinitializePayment,initializePayment:l.initializePayment,language:a,method:m},i,{cardFieldset:n.createElement(p,{debtor:_,method:m}),cardValidationSchema:w({paymentMethod:d,language:a})}));var h}),[{gateway:"checkoutcom",id:"ideal"},{gateway:"checkoutcom",id:"fawry"},{gateway:"checkoutcom",id:"oxxo"},{gateway:"checkoutcom",id:"boleto"},{gateway:"checkoutcom",id:"sepa"},{gateway:"checkoutcom",id:"qpay"},{gateway:"checkoutcom",id:"p24"}])}}]);
//# sourceMappingURL=checkoutcom-custom-payment-method-8cf4bb36.js.map