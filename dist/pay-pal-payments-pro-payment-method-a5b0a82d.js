"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[112,9154],{27749:(e,t,n)=>{n.r(t),n.d(t,{PayPalPaymentsProPaymentMethod:()=>o});var a=n(70355),i=n(5003),s=n(31698);const o=(0,n(19285).A)((({method:e,checkoutService:t,checkoutState:n,paymentForm:o,language:r,onUnhandledError:d})=>"PAYMENT_TYPE_HOSTED"===e.type?a.createElement(s.A,{checkoutService:t,checkoutState:n,deinitializePayment:t.deinitializePayment,initializePayment:t.initializePayment,language:r,method:e,onUnhandledError:d,paymentForm:o}):a.createElement(i.A,{checkoutService:t,checkoutState:n,language:r,method:e,onUnhandledError:d,paymentForm:o})),[{id:"paypal"}])},31698:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(31635),i=n(44218),s=n(69440),o=n(70355),r=n(65685),d=n(94611),u=n(11474),m=n(40646),c=n(68801);const l=e=>{const{description:t,isInitializing:n=!1,initializePayment:l,method:h,onUnhandledError:g=s.noop,deinitializePayment:y}=e,[p,I]=(0,o.useState)(!1),[f,k]=(0,o.useState)(),v=function(e){const t=(0,i.memoizeOne)(((e=[])=>e.filter(r.A))),n=(0,i.memoizeOne)(((e=[])=>e.filter((({trustedShippingAddress:e})=>e)))),{checkoutService:a,checkoutState:s,isUsingMultiShipping:o=!1,method:u}=e,{data:{getCart:m,getConfig:c,getCustomer:l,getInstruments:h,isPaymentDataRequired:g,isPaymentDataSubmitted:y},statuses:{isLoadingInstruments:p}}=s,I=m(),f=c(),k=l();if(!f||!I||!k)throw new Error("Unable to get checkout");const v=t(h(u)),w=n(v);return{instruments:w,isNewAddress:0===w.length&&v.length>0,isInstrumentFeatureAvailable:!y(u.id,u.gateway)&&(0,d.A)({config:f,customer:k,isUsingMultiShipping:o,paymentMethod:u}),isLoadingInstruments:p(),isPaymentDataRequired:g(),loadInstruments:a.loadInstruments}}(e),{isLoadingInstruments:w,instruments:A,isNewAddress:E,isInstrumentFeatureAvailable:P}=v,S=(0,o.useCallback)((()=>{if(!p&&A.length)return(0,s.find)(A,{defaultInstrument:!0})||A[0]}),[p,A]),b=(0,o.useCallback)((()=>{I(!0),k(void 0)}),[]),z=(0,o.useCallback)((e=>{I(!1),k((0,s.find)(A,{bigpayToken:e}))}),[A]);(0,o.useEffect)((()=>{(0,a.__awaiter)(void 0,void 0,void 0,(function*(){try{yield l({gatewayId:h.gateway,methodId:h.id}),P&&(yield v.loadInstruments())}catch(e){g(e)}}))}),[l,h.gateway,h.id,P,v,g]),(0,o.useEffect)((()=>()=>{(0,a.__awaiter)(void 0,void 0,void 0,(function*(){try{yield y({gatewayId:h.gateway,methodId:h.id})}catch(e){g(e)}}))}),[y,h.gateway,h.id,g]);const C=f||S(),U=n||w,M=P&&(A.length>0||E);return t||P?o.createElement(c.A,{hideContentWhenLoading:!0,isLoading:U},o.createElement("div",{className:"paymentMethod paymentMethod--hosted"},t,M&&o.createElement(u.A,{instruments:A,onSelectInstrument:z,onUseNewInstrument:b,selectedInstrument:C}),P&&o.createElement(m.A,{instrumentId:C&&C.bigpayToken,instruments:A,isAccountInstrument:!0}))):null}}}]);
//# sourceMappingURL=pay-pal-payments-pro-payment-method-a5b0a82d.js.map