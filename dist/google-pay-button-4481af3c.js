"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[2004,4748],{34593:(t,e,a)=>{a.d(e,{A:()=>d});var n=a(31635),o=a(70355),i=a(28058),r=a(19285),l=a(97802);const d=(0,r.A)((t=>{var{checkoutService:e,method:a,onUnhandledError:r}=t,d=(0,n.__rest)(t,["checkoutService","method","onUnhandledError"]);const c=(0,o.useCallback)((t=>{const o=t=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){try{yield e.deinitializePayment({gatewayId:a.gateway,methodId:a.id}),yield e.initializePayment(Object.assign(Object.assign({},t),{gatewayId:a.gateway,methodId:a.id}))}catch(t){t instanceof Error&&r(t)}})),l="checkout-app",d=Object.assign(Object.assign({},t),{[i.A.AdyenV2GooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.AdyenV3GooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.AuthorizeNetGooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.BNZGooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.BigCommercePaymentsGooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.BraintreeGooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.PayPalCommerceGooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.StripeGooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.StripeUPEGooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.CybersourceV2GooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.OrbitalGooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.CheckoutcomGooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.WorldpayAccessGooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.TdOnlineMartGooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)},[i.A.StripeOCSGooglePay]:{loadingContainerId:l,walletButton:"walletButton",onError:r,onPaymentSelect:()=>o(d)}});return e.initializePayment(d)}),[e,a,r]);return o.createElement(l.A,Object.assign({},d,{buttonId:"walletButton",deinitializePayment:e.deinitializePayment,initializePayment:c,method:a,shouldShowEditButton:!0,signOutCustomer:e.signOutCustomer}))}),[{id:i.A.AdyenV2GooglePay},{id:i.A.AdyenV3GooglePay},{id:i.A.AuthorizeNetGooglePay},{id:i.A.BNZGooglePay},{id:i.A.BraintreeGooglePay},{id:i.A.PayPalCommerceGooglePay},{id:i.A.BigCommercePaymentsGooglePay},{id:i.A.CheckoutcomGooglePay},{id:i.A.CybersourceV2GooglePay},{id:i.A.OrbitalGooglePay},{id:i.A.StripeGooglePay},{id:i.A.StripeUPEGooglePay},{id:i.A.WorldpayAccessGooglePay},{id:i.A.TdOnlineMartGooglePay},{id:i.A.StripeOCSGooglePay}])},72181:(t,e,a)=>{a.r(e),a.d(e,{GooglePayButton:()=>n.A,GooglePayPaymentMethod:()=>o.A});var n=a(48734),o=a(34593)},97802:(t,e,a)=>{a.d(e,{A:()=>B});var n=a(31635),o=a(69440),i=a(70355),r=a(39981),l=a(68801),d=a(22437);const c=(t="",e="****")=>t.includes("*")?t:`${e} ${t}`,m=t=>{if((t=>{if("object"==typeof t&&null!==t){if("card_information"in t&&"object"==typeof t.card_information&&null!==t.card_information&&"number"in t.card_information&&"type"in t.card_information)return!0;if("cardData"in t&&"object"==typeof t.cardData&&null!==t.cardData&&"accountMask"in t.cardData&&"cardType"in t.cardData&&"expMonth"in t.cardData&&"expYear"in t.cardData)return!0;if("accountNum"in t&&"accountMask"in t&&"expDate"in t)return!0}return!1})(t)){if(t.card_information)return{accountMask:c(t.card_information.number),cardType:t.card_information.type};if(t.cardData)return{accountMask:c(t.cardData.accountMask),cardType:t.cardData.cardType,expiryMonth:t.cardData.expMonth,expiryYear:t.cardData.expYear};if(t.accountNum){const{card:e}=(0,d.number)(t.accountNum);return{accountMask:c(t.accountMask),expiryMonth:t.expDate&&t.expDate.substr(0,2),expiryYear:t.expDate&&t.expDate.substr(2,2),cardType:e?e.niceType:""}}}};var u,y=a(72769),s=a(76049),g=a(49655),p=a(28058);!function(t){t.ApplePay="applepay",t.Barclaycard="barclaycard",t.CreditCard="credit-card",t.GooglePay="googlepay",t.PayWithGoogle="paywithgoogle",t.Masterpass="masterpass",t.MultiOption="multi-option",t.Paypal="paypal",t.PaypalCredit="paypal-credit",t.PaypalVenmo="paypal-venmo",t.VisaCheckout="visa-checkout"}(u||(u={}));const P=u;function h(t){return e=>{let a=function(t){return e=>{const a={[p.A.Affirm]:t.translate("payment.affirm_name_text"),[p.A.Afterpay]:t.translate("payment.afterpay_name_text"),[p.A.AmazonPay]:t.translate("payment.amazon_name_text"),[p.A.Bolt]:t.translate("payment.bolt_name_text"),[p.A.Clearpay]:t.translate("payment.clearpay_name_text"),[P.GooglePay]:t.translate("payment.google_pay_name_text"),[p.A.Klarna]:t.translate("payment.klarna_name_text"),[P.Paypal]:t.translate("payment.paypal_name_text"),[P.PaypalCredit]:t.translate("payment.paypal_credit_name_text"),[P.VisaCheckout]:t.translate("payment.vco_name_text")};return a[e.id]||a[e.method]}}(t)(e);return a&&e.method!==P.MultiOption||(a=e.config.displayName),a||(a=(0,o.capitalize)((0,o.get)(e,"initializationData.paymentData.cardData.digital_wallet_type")||e.method||e.id)),a}}const A=({method:t,onSignOut:e})=>{const{language:a}=(0,s.Y)();return i.createElement("div",{className:"signout-link"},i.createElement(g.A,{id:"remote.sign_out_before_action"})," ",i.createElement("a",{href:"#",onClick:(0,y.A)(e)},i.createElement(g.A,{data:{providerName:h(a)(t)},id:"remote.sign_out_action"}))," ",i.createElement(g.A,{id:"remote.sign_out_after_action"}))},_=({accountMask:t,cardName:e,cardType:a,expiryMonth:n,expiryYear:o,shouldShowEditButton:r,editButtonClassName:l,editButtonLabel:d,buttonId:c,method:m,onSignOut:u})=>i.createElement(i.Fragment,null,!!e&&i.createElement("p",{"data-test":"payment-method-wallet-card-name"},i.createElement("strong",null,i.createElement(g.A,{id:"payment.credit_card_name_label"}),":")," ",e),!!t&&!!a&&i.createElement("p",{"data-test":"payment-method-wallet-card-type"},i.createElement("strong",null,`${a}:`)," ",t),!!n&&!!o&&i.createElement("p",{"data-test":"payment-method-wallet-card-expiry"},i.createElement("strong",null,i.createElement(g.A,{id:"payment.credit_card_expiration_date_label"}),":")," ",`${n}/${o}`),!!r&&i.createElement("p",null,i.createElement("a",{className:l,href:"#",id:c,onClick:(0,y.A)()},d||i.createElement(g.A,{id:"remote.select_different_card_action"}))),i.createElement(A,{method:m,onSignOut:u})),w=({buttonId:t,method:e,signInButtonClassName:a,signInButtonLabel:n})=>{const{language:o}=(0,s.Y)();return i.createElement("a",{className:a,href:"#",id:t,onClick:(0,y.A)()},n||i.createElement(g.A,{data:{providerName:h(o)(e)},id:"remote.sign_in_action"}))},B=({paymentForm:t,buttonId:e,editButtonClassName:a,editButtonLabel:d,isInitializing:c=!1,method:u,shouldShowEditButton:y,signInButtonClassName:s,signInButtonLabel:g,signOutCustomer:p,deinitializePayment:P,initializePayment:h,onSignOut:A=o.noop,onSignOutError:B=o.noop,onUnhandledError:E=o.noop})=>{const{checkoutState:{data:{getBillingAddress:C,getCheckout:f,isPaymentDataRequired:b}}}=(0,r.Q)(),I=C(),S=f();if(!I||!S)throw new Error("Unable to get checkout");const G=m(u.initializationData),k=(0,o.some)(S.payments,{providerId:u.id}),v=G&&[I.firstName,I.lastName].join(" "),x=()=>{const{disableSubmit:e}=t,a=b();m(u.initializationData)||!a?e(u,!1):e(u,!0)},N=(0,i.useCallback)((()=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){try{yield p({methodId:u.id}),A(),window.location.reload()}catch(t){B(t)}}))),[p,u.id,A,B]);return(0,i.useEffect)((()=>((0,n.__awaiter)(void 0,void 0,void 0,(function*(){x();try{yield h({gatewayId:u.gateway,methodId:u.id})}catch(t){E(t)}})),()=>{(0,n.__awaiter)(void 0,void 0,void 0,(function*(){const{disableSubmit:e}=t;e(u,!1);try{yield P({gatewayId:u.gateway,methodId:u.id})}catch(t){E(t)}}))})),[]),(0,i.useEffect)((()=>{x()})),i.createElement(l.A,{hideContentWhenLoading:!0,isLoading:c},i.createElement("div",{className:"paymentMethod paymentMethod--walletButton"},k?i.createElement(_,Object.assign({},G,{buttonId:e,cardName:v,editButtonClassName:a,editButtonLabel:d,method:u,onSignOut:N,shouldShowEditButton:y})):i.createElement(w,{buttonId:e,method:u,signInButtonClassName:s,signInButtonLabel:g})))}}}]);
//# sourceMappingURL=google-pay-button-4481af3c.js.map